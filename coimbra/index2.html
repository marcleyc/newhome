<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    
    <!-- bootstrap js" --> 
    <script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>    
    <!-- bootstrap css" --> 
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

    <title>Coimbra</title>
</head>

<body>
<!-- ---------------------------------------------------------- M E N U -->    
<div class="card mb-4 shadow-sm">
  <div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
    <img src="img/home.png" target="_blank" width="40">
    <h5 class="my-0 mr-md-auto font-weight-normal"></h5>
      <nav class="my-2 my-md-0 mr-md-3">
        <a class="p-2 text-dark" href="index.html">Home</a>
        <a class="p-2 text-dark" href="disponivel.html">Disponíveis</a>
        <a class="p-2 text-dark" href="lista.html">Relação</a>
        <button onclick="disponiveis()">Filtro</button>
      </nav>    
  </div>
</div>

<!-- -----------------------------------------------------------D A D O S -->    
    <center>
      <div>  
        <span id='dados'> </span>
      </div>    
    </center>
<!-- ---------------------------------------------------------- S C R I P T -->
<script src="db.js"></script>  

<script>
    //exUrl : app/transcricao.htm?id=10
    const params = new URLSearchParams(window.location.search);
    const idc = params.get('id');
    console.log('id URL',idc);    
    console.log('apartamentos',aptos); 
    function filtrarId (value){ return value.situacao == 'disponivel'; }
    var nubente = nubentes.filter(filtrarId);
    console.log(nubente)
    console.log(nubente[0].nubente1)
</script> 

    <script type="text/javascript">
      console.log("primeiro",this.aptos);
      let itens = this.aptos; 
      
      function disponiveis() {
        itens = itens.filter((item)=>item.cor=="primary");
        console.log('Com filtro',itens);
      };
      console.log('Com filtro2',itens);
      //let itens = this.aptos;
      //let itens = this.aptos.reverse();
      const cardText = document.getElementById('dados');
      let spam = document.getElementById('dados');
      let html = "";
        for (i of itens) {        
        console.log('front', i);
              
      html = html + `   
  
      <div class="card mb-3 bg-light" style="max-width: 990px;">
        <div class="row g-0">
          <div class="col-md-4">
            <a href="${i.link}" target="_blank">
              <img src="imgCoimbra/${i.id}.jpg" class="img-fluid rounded-start" alt="">
            </a>
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title"> <span class="text-success">${i.id}</span> - € ${i.valor} - <span class="text-success">${i.tipologia}</span></h5>
              <div class="d-grid gap-2"> <button class="btn btn-${i.cor}">${i.situacao}</button> </div>
              <p class="card-text">Local: ${i.local} </p>
              <p class="card-text text-danger">Agendamento: ${i.agendamento} </p>
              <p class="card-text">Eficiência energética:${i.imobiliaria} </p>
              
            </div>
          </div>
        </div>
      </div>
      
      `;
      cardText.innerHTML = html
    };

 </script>
<!-- ---------------------------------------------------------- S T Y L E -->    
<style>
button {align: right; margin-left: 100px; border-radius: 8px; }
button:hover {background-color: #3e8e41;color: white;}
</style>
</body>
</html>